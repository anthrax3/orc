<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>ORC Tutorial: Using the Control Port</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<script src="scripts/highlight.min.js"></script>

	<link type="text/css" rel="stylesheet" href="styles/site.granax.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" style="background-image:url(img/orc.png)"  href="index.html">ORC</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-orc.html">orc</a></li><li><a href="module-orc_constants.html">orc/constants</a></li><li><a href="module-orc_utils.html">orc/utils</a></li><li><a href="module-orc_version.html">orc/version</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="Audit.html">Audit</a></li><li><a href="Bridge.html">Bridge</a></li><li><a href="Database.html">Database</a></li><li><a href="Database.AuditReport.html">Database.AuditReport</a></li><li><a href="Database.NetworkBlob.html">Database.NetworkBlob</a></li><li><a href="Database.ObjectPointer.html">Database.ObjectPointer</a></li><li><a href="Database.PeerProfile.html">Database.PeerProfile</a></li><li><a href="Database.ShardContract.html">Database.ShardContract</a></li><li><a href="Directory.html">Directory</a></li><li><a href="KadStorageAdapter.html">KadStorageAdapter</a></li><li><a href="Node.html">Node</a></li><li><a href="Proof.html">Proof</a></li><li><a href="Rules.html">Rules</a></li><li><a href="Server.html">Server</a></li><li><a href="Shards.html">Shards</a></li><li><a href="Transport.html">Transport</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="events.list.html" class="dropdown-toggle" data-toggle="dropdown">Events<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="Server.html#event:error">Server#event:error</a></li><li><a href="Server.html#event:shardDownloaded">Server#event:shardDownloaded</a></li><li><a href="Server.html#event:shardUploaded">Server#event:shardUploaded</a></li><li><a href="Transport.html#event:download">Transport#event:download</a></li><li><a href="Transport.html#event:upload">Transport#event:upload</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-config.html">Configuration Guide</a></li><li><a href="tutorial-control.html">Using the Control Port</a></li><li><a href="tutorial-directory_.html">Using the Local Directory</a></li><li><a href="tutorial-install.html">Manual Installation</a></li><li><a href="tutorial-transfers.html">Using the Local Bridge</a></li><li><a href="tutorial-usage.html">Using the Node.js Library</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-4">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-primary" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-12">
	
		<div id="main">
			<section class="tutorial-section">

<header>
    

    <h2>Using the Control Port</h2>
</header>

<article>
    <p>You can run <code>orcd</code> standalone and control it from any other application over 
its TCP control interface. The control interface understands JSON-RPC 2.0 
messages terminated by a carriage return and a newline (<code>\r\n</code>).</p>
<p>For the purpose of this guide, we assume you have the following configuration
properties set:</p>
<pre class="prettyprint source"><code>ControlPort = 5444
ControlHostname = 127.0.0.1</code></pre><blockquote>
<p>Using the control port, you can get a very low level control over your ORC 
node. It is very important to keep <code>ControlHostname</code> set to a loopback 
interface unless you have taken measures to otherwise secure access to the 
host. See the <a href="tutorial-config.html">Configuration Guide</a> guide for more information.</p>
</blockquote>
<p>The interface accepts all methods exposed by the <a href="Node.html">Node</a> class. Parameters 
are expected to be in an array format, in order of the corresponding function 
signature and sans any callback functions. Results are written back in the same 
format. If an error occurs, the control server will send back a JSON-RPC 2.0 
error message with the same <code>id</code> as the original request. Otherwise, parameters 
passed that would be passed to the callback function are included in the 
<code>results</code> property.</p>
<p>When starting <code>orcd</code>, you will see a log message like this:</p>
<pre class="prettyprint source"><code>{
  &quot;name&quot;: &quot;b95d3b65cee77810589fe21a542a5a206ad024e5&quot;,
  &quot;hostname&quot;: &quot;librem&quot;,
  &quot;pid&quot;: 19604,
  &quot;level&quot;: 30,
  &quot;msg&quot;: &quot;control server bound to 127.0.0.1:5444&quot;,
  &quot;time&quot;: &quot;2017-10-03T18:01:36.357Z&quot;,
  &quot;v&quot;: 0
}</code></pre><p>This means that the control interface is ready to use. You can query it for the 
methods it supports using telnet.</p>
<pre class="prettyprint source"><code>$ telnet 127.0.0.1 5444
Trying 127.0.0.1...
Connected to 127.0.0.1.
Escape character is '^]'.
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;1234567890&quot;,&quot;method&quot;:&quot;getMethods&quot;,&quot;params&quot;:[]}
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;1234567890&quot;,&quot;result&quot;:[[&quot;ping&quot;,&quot;iterativeStore&quot;,&quot;iterativeFindNode&quot;,&quot;iterativeFindValue&quot;,&quot;quasarPublish&quot;,&quot;quasarSubscribe&quot;,&quot;auditRemoteShards&quot;,&quot;authorizeConsignment&quot;,&quot;authorizeRetrieval&quot;,&quot;claimProviderCapacity&quot;,&quot;createShardMirror&quot;,&quot;identifyService&quot;,&quot;publishCapacityAnnouncement&quot;,&quot;reportAuditResults&quot;,&quot;requestContractRenewal&quot;,&quot;subscribeCapacityAnnouncement&quot;,&quot;getMethods&quot;,&quot;getNodeInfo&quot;,&quot;ping&quot;,&quot;iterativeStore&quot;,&quot;iterativeFindNode&quot;,&quot;iterativeFindValue&quot;,&quot;quasarPublish&quot;,&quot;quasarSubscribe&quot;,&quot;auditRemoteShards&quot;,&quot;authorizeConsignment&quot;,&quot;authorizeRetrieval&quot;,&quot;claimProviderCapacity&quot;,&quot;createShardMirror&quot;,&quot;identifyService&quot;,&quot;publishCapacityAnnouncement&quot;,&quot;reportAuditResults&quot;,&quot;requestContractRenewal&quot;,&quot;subscribeCapacityAnnouncement&quot;]]}</code></pre><p>You may also like to get information about your node's status.</p>
<pre class="prettyprint source"><code>$ telnet 127.0.0.1 5444
Trying 127.0.0.1...
Connected to 127.0.0.1.
Escape character is '^]'.
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;1234567890&quot;,&quot;method&quot;:&quot;getNodeInfo&quot;,&quot;params&quot;:[]}
{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;id&quot;:&quot;1234567890&quot;,&quot;result&quot;:[{&quot;identity&quot;:&quot;b95d3b65cee77810589fe21a542a5a206ad024e5&quot;,&quot;updated&quot;:&quot;2017-10-03T18:01:49.344Z&quot;,&quot;reputation&quot;:{&quot;timestamp&quot;:&quot;2017-10-03T18:01:49.344Z&quot;,&quot;score&quot;:0},&quot;capacity&quot;:{&quot;timestamp&quot;:&quot;2017-10-03T18:01:10.294Z&quot;,&quot;available&quot;:5316683150,&quot;allocated&quot;:5368709120},&quot;contact&quot;:{&quot;hostname&quot;:&quot;dbmsjonrk2bucr4c.onion&quot;,&quot;port&quot;:443,&quot;xpub&quot;:&quot;xpub6AYRYZsSnqBSj2cysHtCswKXpmVmwFTcYbihx77CbrYeKBGxwaMJDeMcD6E41nzzi282KsaGvGW7URswXntbbsGVYxwqRbmFm2niWrgR9xD&quot;,&quot;agent&quot;:&quot;orc-8.1.1-beta6/linux&quot;,&quot;index&quot;:0,&quot;protocol&quot;:&quot;https:&quot;}}]}</code></pre><p>All of the other supported methods are documented in the <a href="Node.html">Node</a> class. 
The primary objective for the control interface is to provide a simple way to 
control an ORC node from any programming language that support TCP sockets.</p>
</article>

</section>

		</div>
	</div>

	<div class="clearfix"></div>

	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>


	<span class="copyright">
	Copyright 2017 Counterpoint Hackerspace
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	$('pre').each(function(i, block) {
		hljs.highlightBlock(block);
	});

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>